"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var wa=require("@walletconnect/sign-client"),cn=require("@walletconnect/utils"),Pa=require("@walletconnect/logger"),Aa=require("@walletconnect/jsonrpc-http-connection"),At=require("@walletconnect/jsonrpc-provider"),Rg=require("events");function Hi(A){return A&&typeof A=="object"&&"default"in A?A:{default:A}}var Og=Hi(wa),Gt=Hi(Aa),bg=Hi(Rg);const Ca="error",Tg="wss://relay.walletconnect.com",Lg="wc",Dg="universal_provider",Ia=`${Lg}@2:${Dg}:`,Ng="https://rpc.walletconnect.com/v1",ft={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(A,u){(function(){var i,p="4.17.21",I=200,D="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",F="Expected a function",Mn="Invalid `variable` option passed into `_.template`",Kt="__lodash_hash_undefined__",lr=500,Ct="__lodash_placeholder__",Dn=1,qn=2,It=4,xt=1,ge=2,_n=1,ct=2,Mi=4,Nn=8,Et=16,Hn=32,yt=64,Bn=128,zt=256,pr=512,Ta=30,La="...",Da=800,Na=16,qi=1,Ha=2,$a=3,ht=1/0,jn=9007199254740991,Ua=17976931348623157e292,ve=0/0,$n=4294967295,Wa=$n-1,Fa=$n>>>1,Ma=[["ary",Bn],["bind",_n],["bindKey",ct],["curry",Nn],["curryRight",Et],["flip",pr],["partial",Hn],["partialRight",yt],["rearg",zt]],St="[object Arguments]",_e="[object Array]",qa="[object AsyncFunction]",Jt="[object Boolean]",Yt="[object Date]",Ba="[object DOMException]",me="[object Error]",we="[object Function]",Bi="[object GeneratorFunction]",Sn="[object Map]",Zt="[object Number]",Ga="[object Null]",Gn="[object Object]",Gi="[object Promise]",Ka="[object Proxy]",Xt="[object RegExp]",Rn="[object Set]",Qt="[object String]",Pe="[object Symbol]",za="[object Undefined]",Vt="[object WeakMap]",Ja="[object WeakSet]",kt="[object ArrayBuffer]",Rt="[object DataView]",dr="[object Float32Array]",gr="[object Float64Array]",vr="[object Int8Array]",_r="[object Int16Array]",mr="[object Int32Array]",wr="[object Uint8Array]",Pr="[object Uint8ClampedArray]",Ar="[object Uint16Array]",Cr="[object Uint32Array]",Ya=/\b__p \+= '';/g,Za=/\b(__p \+=) '' \+/g,Xa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ki=/&(?:amp|lt|gt|quot|#39);/g,zi=/[&<>"']/g,Qa=RegExp(Ki.source),Va=RegExp(zi.source),ka=/<%-([\s\S]+?)%>/g,ja=/<%([\s\S]+?)%>/g,Ji=/<%=([\s\S]+?)%>/g,no=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,to=/^\w*$/,eo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ir=/[\\^$.*+?()[\]{}|]/g,ro=RegExp(Ir.source),xr=/^\s+/,io=/\s/,so=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uo=/\{\n\/\* \[wrapped with (.+)\] \*/,ao=/,? & /,oo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fo=/[()=,{}\[\]\/\s]/,co=/\\(\\)?/g,ho=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yi=/\w*$/,lo=/^[-+]0x[0-9a-f]+$/i,po=/^0b[01]+$/i,go=/^\[object .+?Constructor\]$/,vo=/^0o[0-7]+$/i,_o=/^(?:0|[1-9]\d*)$/,mo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ae=/($^)/,wo=/['\n\r\u2028\u2029\\]/g,Ce="\\ud800-\\udfff",Po="\\u0300-\\u036f",Ao="\\ufe20-\\ufe2f",Co="\\u20d0-\\u20ff",Zi=Po+Ao+Co,Xi="\\u2700-\\u27bf",Qi="a-z\\xdf-\\xf6\\xf8-\\xff",Io="\\xac\\xb1\\xd7\\xf7",xo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Eo="\\u2000-\\u206f",yo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vi="A-Z\\xc0-\\xd6\\xd8-\\xde",ki="\\ufe0e\\ufe0f",ji=Io+xo+Eo+yo,Er="['\u2019]",So="["+Ce+"]",ns="["+ji+"]",Ie="["+Zi+"]",ts="\\d+",Ro="["+Xi+"]",es="["+Qi+"]",rs="[^"+Ce+ji+ts+Xi+Qi+Vi+"]",yr="\\ud83c[\\udffb-\\udfff]",Oo="(?:"+Ie+"|"+yr+")",is="[^"+Ce+"]",Sr="(?:\\ud83c[\\udde6-\\uddff]){2}",Rr="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="["+V